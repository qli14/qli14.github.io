<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qli14.github.io","root":"/","scheme":"Muse","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Solved the first three problems. Not enough time for the last one. Later solved the last one. No as difficult as expected, altough it&apos;s marked as hard. No special algorithms involved.">
<meta property="og:type" content="article">
<meta property="og:title" content="Weekly Contest 158">
<meta property="og:url" content="https://qli14.github.io/2019/10/13/Weekly-Contest-158/index.html">
<meta property="og:site_name" content="Infinity-Eternity">
<meta property="og:description" content="Solved the first three problems. Not enough time for the last one. Later solved the last one. No as difficult as expected, altough it&apos;s marked as hard. No special algorithms involved.">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-02-09T21:01:36.964Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Weekly Contest 158">
<meta name="twitter:description" content="Solved the first three problems. Not enough time for the last one. Later solved the last one. No as difficult as expected, altough it&apos;s marked as hard. No special algorithms involved.">

<link rel="canonical" href="https://qli14.github.io/2019/10/13/Weekly-Contest-158/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Weekly Contest 158 | Infinity-Eternity</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Infinity-Eternity</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Blog of Qiang</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://qli14.github.io/2019/10/13/Weekly-Contest-158/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="For the people">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Infinity-Eternity">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Weekly Contest 158
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-13 10:08:12" itemprop="dateCreated datePublished" datetime="2019-10-13T10:08:12-04:00">2019-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-09 16:01:36" itemprop="dateModified" datetime="2020-02-09T16:01:36-05:00">2020-02-09</time>
              </span>

          
            <div class="post-description">Solved the first three problems. Not enough time for the last one. Later solved the last one. No as difficult as expected, altough it's marked as hard. No special algorithms involved.</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="1221-Split-a-string-in-balanced-strings"><a href="#1221-Split-a-string-in-balanced-strings" class="headerlink" title="1221. Split a string in balanced strings"></a>1221. Split a string in balanced strings</h3><p>Running count</p>
<h3 id="1222-Queens-that-can-attack-the-king"><a href="#1222-Queens-that-can-attack-the-king" class="headerlink" title="1222. Queens that can attack the king"></a>1222. Queens that can attack the king</h3><p>Search from the King or search along the queens and keep the closest ones along each direction</p>
<h3 id="5224-Dice-roll-simulation"><a href="#5224-Dice-roll-simulation" class="headerlink" title="5224 Dice roll simulation"></a>5224 Dice roll simulation</h3><p>Feels like a dp problem. It takes almost one hour, but finally AC.</p>
<p>(10/22/2019) Revisited this problem with a dp method. Much faster.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dieSimulator</span><span class="params">(self, n: int, rollMax: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># dp[i][j] the number of valid sequences ending with (j + 1) with (i + 1) rolls</span></span><br><span class="line">        dp = [[<span class="number">0</span>] * <span class="number">7</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">        <span class="comment"># here dp[i][6] store the sum of dp[i][0-5]</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">            dp[<span class="number">0</span>][j] = <span class="number">1</span></span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">6</span>] = <span class="number">6</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">            temp = <span class="number">0</span>  <span class="comment"># store the sum of dp[i][*]</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">                <span class="comment"># update dp[i][j], then remove the illegal seqs.</span></span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][<span class="number">6</span>]</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># if (i + 1) &lt;= rollMax[j]</span></span><br><span class="line">                <span class="comment"># no worry about illegal seqs.</span></span><br><span class="line">                <span class="keyword">if</span> i == rollMax[j]:</span><br><span class="line">                    <span class="comment"># only one illegal, all -j-</span></span><br><span class="line">                    dp[i][j] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> i &gt; rollMax[j]:</span><br><span class="line">                    <span class="comment"># we choose j at index i</span></span><br><span class="line">                    <span class="comment"># to make [0, i] illegal</span></span><br><span class="line">                    <span class="comment"># we must have at least rollMax[j] + 1 concecutive -j-</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="comment"># in [0, i - 1], we can't have more than rollMax[j]</span></span><br><span class="line">                    <span class="comment"># since [0, i - 1] must form a valid sequence</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="comment"># THUS, we must have exactly rollMax[j] concecutive -j- </span></span><br><span class="line">                    <span class="comment"># in [0, i - 1], ending in (i - 1)</span></span><br><span class="line">                    <span class="comment"># define pree = i - rollMax - 1</span></span><br><span class="line">                    <span class="comment"># the elements in range(pre, i) must be set to j</span></span><br><span class="line">                    <span class="comment"># then at index pre, we can't choose j, otherwise,</span></span><br><span class="line">                    <span class="comment"># we have rollMax[j] + 1 concecutive -j-</span></span><br><span class="line">                    <span class="comment"># in the range[prev, i - 1]</span></span><br><span class="line">                    prev = i - rollMax[j] - <span class="number">1</span></span><br><span class="line">                    dp[i][j] -= dp[prev][<span class="number">6</span>] - dp[prev][j]</span><br><span class="line">                temp += dp[i][j] % (<span class="number">10</span> ** <span class="number">9</span> + <span class="number">7</span>)</span><br><span class="line">            dp[i][<span class="number">6</span>] = temp % (<span class="number">10</span> ** <span class="number">9</span> + <span class="number">7</span>)</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">-1</span>][<span class="number">6</span>]</span><br></pre></td></tr></table></figure>
<h3 id="1225-Maximum-equal-frequency"><a href="#1225-Maximum-equal-frequency" class="headerlink" title="1225. Maximum equal frequency"></a>1225. Maximum equal frequency</h3><p>Use two dictionaries to count the frequency of each number and the frequency of each frequency.</p>
<p>Need to delete the elements with zero frequency.</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/10/07/Weekly-Contest-157/" rel="prev" title="Weekly Contest 157">
      <i class="fa fa-chevron-left"></i> Weekly Contest 157
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/10/17/883-Max-consecutive-ones-II/" rel="next" title="883 Max consecutive ones II">
      883 Max consecutive ones II <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1221-Split-a-string-in-balanced-strings"><span class="nav-number">1.</span> <span class="nav-text">1221. Split a string in balanced strings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1222-Queens-that-can-attack-the-king"><span class="nav-number">2.</span> <span class="nav-text">1222. Queens that can attack the king</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5224-Dice-roll-simulation"><span class="nav-number">3.</span> <span class="nav-text">5224 Dice roll simulation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1225-Maximum-equal-frequency"><span class="nav-number">4.</span> <span class="nav-text">1225. Maximum equal frequency</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">For the people</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">For the people</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



  















  

  

</body>
</html>
